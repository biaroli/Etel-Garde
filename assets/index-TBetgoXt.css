:root{--font-ancient-header: "Cinzel Decorative", serif;--font-ancient-body: "Noto Serif SC", serif;--font-handwritten: "LXGW WenKai TC", cursive;--ink-main: #4a3c2a;--ink-secondary: #7a6c5a;--gold-accent: #b48a38;--border-dark: rgba(74, 60, 42, .4);--modal-bg: rgba(245, 238, 218, .97);--color-capital: #FFD700;--color-holy: #FFFFFF;--color-demonic: #DA70D6;--color-natural: #006400;--color-neutral: #00FFFF;--color-danger: #FF4500}body.font-serif{--font-ancient-body: "Noto Serif SC", serif}body.font-handwritten{--font-ancient-body: "LXGW WenKai TC", cursive}body.font-sans{--font-ancient-body: sans-serif}body.fs-small{font-size:14px}body.fs-normal{font-size:16px}body.fs-large{font-size:18px}body.fs-xlarge{font-size:20px}.font-selector{display:grid;grid-template-columns:repeat(auto-fit,minmax(60px,1fr));gap:10px;width:100%}.font-selector button{font-family:var(--font-ancient-header);background:#0003;border:1px solid var(--ink-secondary);padding:8px 5px;cursor:pointer;transition:all .2s;color:#aaa;border-radius:4px;font-size:.9em;white-space:nowrap}.font-selector button.active,.font-selector button:hover{background:var(--ink-main);color:#fff;border-color:var(--gold-accent);box-shadow:0 0 8px #b48a384d}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeInScaleUp{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes line-flow{to{stroke-dashoffset:-1000}}@keyframes node-pulse{0%,to{transform:scale(.9);opacity:.9}50%{transform:scale(1.1);opacity:1}}@keyframes currentLocationPulse{0%,to{filter:drop-shadow(0 0 6px #39FF14) brightness(1.1)}50%{filter:drop-shadow(0 0 12px #39FF14) brightness(1.3)}}@keyframes star-glow{0%{text-shadow:0 0 4px #fff,0 0 6px #fff,0 0 10px var(--gold-accent)}to{text-shadow:0 0 6px #fff,0 0 10px #fff,0 0 16px var(--gold-accent)}}@keyframes rotate-counter-clockwise{0%{transform:rotate(0)}to{transform:rotate(-360deg)}}@keyframes scroll-glow{0%{box-shadow:0 0 15px #b48a3880,0 0 5px #fff3 inset}50%{box-shadow:0 0 25px #b48a38cc,0 0 10px #ffffff4d inset}to{box-shadow:0 0 15px #b48a3880,0 0 5px #fff3 inset}}@keyframes progress-glow{0%{box-shadow:0 0 4px #e7c059,inset 0 0 2px #fff}to{box-shadow:0 0 10px #e7c059,inset 0 0 4px #fff}}@keyframes flicker-ember{0%,to{opacity:.6;box-shadow:0 0 8px 2px #ff5722}50%{opacity:1;box-shadow:0 0 15px 4px #ff8a65}}body{margin:0;padding:0;font-family:var(--font-ancient-body);background-color:transparent;color:var(--ink-main);transition:font-family .3s ease}#app-root{width:100vw;height:100vh;margin:0;padding:0;box-sizing:border-box;position:fixed;top:0;left:0;background-color:#000;border-radius:0;overflow:hidden;z-index:1}#galgame-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}#galgame-bg{position:absolute;top:0;left:0;width:100%;height:100%;background-size:100% 100%;background-position:center;background-repeat:no-repeat;z-index:0;transition:opacity 1s ease}#epic-map-container{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;overflow:hidden;touch-action:none;cursor:grab;z-index:50;transition:opacity .5s ease,visibility .5s;opacity:0;visibility:hidden;pointer-events:none}#epic-map-container.visible{opacity:1;visibility:visible;pointer-events:auto}#epic-map-container.grabbing{cursor:grabbing}.map-content-wrapper{position:absolute;top:0;left:0;width:100%;height:100%;user-select:none;-webkit-user-select:none;transform-origin:0 0;will-change:transform;box-shadow:none}#epic-map-container:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;box-shadow:inset 0 0 80px 20px #0009;pointer-events:none;z-index:60;border-radius:8px}#epic-map-container{background-image:none!important}.map-content-wrapper{background:url(https://cdn.jsdelivr.net/gh/biaroli/EtelGarde@main/map/图1.webp) no-repeat center center;background-size:100% 100%}#epic-map-container.night-mode .map-content-wrapper{background-image:url(https://cdn.jsdelivr.net/gh/biaroli/EtelGarde@main/map/图2.webp)}#hud-overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:6}.hud-element{position:absolute;font-size:clamp(12px,1.5vw,16px)}#hud-time{top:20px;left:25px;font-family:var(--font-ancient-body);color:gold;text-shadow:0 0 5px #000,0 0 10px #000}#hud-location{top:20px;right:25px;text-align:right;font-family:var(--font-ancient-header);color:plum;text-shadow:0 0 5px #000,0 0 10px #8A2BE2}#hud-wealth{top:45px;right:25px;text-align:right;font-family:var(--font-ancient-body);color:#eaeaea;text-shadow:0 0 5px #000}#fullscreen-btn{position:fixed;bottom:20px;right:25px;width:40px;height:40px;background:#0a1428bf;border:1px solid var(--border-dark);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .3s ease,transform .3s ease;pointer-events:auto;z-index:99999}#fullscreen-btn:hover{background:#4a3c2ae6;transform:scale(1.1)}#fullscreen-btn svg{width:20px;height:20px;fill:var(--gold-accent)}.map-nodes-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:5}.node-capital,.node-holy,.node-demonic,.node-natural,.node-neutral,.node-danger{background-color:transparent!important;box-shadow:none!important}.node-tooltip{position:absolute;bottom:250%;left:50%;transform:translate(-50%);padding:4px 12px;background-color:var(--modal-bg);border:1px solid var(--border-dark);border-radius:2px;box-shadow:2px 2px 5px #0003;white-space:nowrap;font-family:var(--font-ancient-header);font-size:1.1em;color:var(--ink-main);opacity:0;visibility:hidden;transition:opacity .2s ease,visibility .2s ease;pointer-events:none}.map-node:hover .node-tooltip{opacity:1;visibility:visible}#map-paths-svg,.path-line{display:none!important;opacity:0!important}.map-node{position:absolute;width:40px!important;height:40px!important;border-radius:50%;cursor:pointer;pointer-events:auto!important;transform:translate(-50%,-50%);transition:all .3s ease;z-index:10;background:transparent!important}.map-node:hover{transform:translate(-50%,-50%) scale(1.2);background:#b48a3826!important;box-shadow:0 0 15px #b48a384d}.map-node.current-location:after{content:"";display:block!important;position:absolute;bottom:0;left:50%;width:40px;height:40px;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='%23e53935' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z' stroke='%233e2723' stroke-width='1.5'/%3E%3C/svg%3E");background-size:contain;background-repeat:no-repeat;filter:drop-shadow(0 5px 5px rgba(0,0,0,.6));animation:pinFloat 1.5s ease-in-out infinite;transform-origin:bottom center}@keyframes pinDrop{0%{transform:translate(-50%) translateY(-50px);opacity:0}to{transform:translate(-50%) translateY(0);opacity:1}}.node-tooltip{bottom:30px;background:#000c;border:1px solid #ffd700;color:#fff;padding:5px 10px}#main-menu-modal{transition:opacity .4s ease,backdrop-filter .4s ease}.astrolabe-container{background:radial-gradient(circle,#0a1428d9 50%,#050a14e6);border:2px solid rgba(180,138,56,.5);box-shadow:0 0 20px #b48a38cc,0 0 40px #b48a3899 inset;border-radius:50%;width:450px;height:450px;position:relative;display:flex;justify-content:center;align-items:center;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.34,1.56,.64,1),opacity .4s ease}#main-menu-modal.visible .astrolabe-container{transform:scale(1);opacity:1}.celestial-glyphs{position:absolute;top:0;left:0;width:100%;height:100%;animation:rotate-clockwise 40s linear infinite}.rune-symbol{position:absolute;top:50%;left:50%;font-size:20px;color:var(--gold-accent);opacity:.6;text-shadow:0 0 8px var(--gold-accent);transform-origin:0 0}.temporal-index{position:absolute;top:15%;left:15%;width:70%;height:70%;border:1px dashed rgba(180,138,56,.5);border-radius:50%;animation:rotate-counter-clockwise 25s linear infinite}.aetherial-core{width:40px;height:40px;background:linear-gradient(45deg,#ffefc5,#d4a373,#ffefc5);position:absolute;top:50%;left:50%;margin:-20px 0 0 -20px;transform:rotate(45deg);animation:core-pulse 3s ease-in-out infinite;z-index:1}.menu-items-container{width:70%;height:100%;display:flex;flex-direction:column;justify-content:center;position:relative;z-index:2;--hover-light-opacity: 0;--hover-light-pos-x: 50%;--hover-light-pos-y: 50%;background:radial-gradient(circle at var(--hover-light-pos-x) var(--hover-light-pos-y),rgba(255,221,150,.2) 0%,transparent 40%);transition:--hover-light-opacity .3s ease;opacity:var(--hover-light-opacity)}.main-menu-item{font-family:var(--font-ancient-header);font-size:1.8em;color:#fffc;text-shadow:0 0 5px rgba(0,0,0,.5);padding:12px 0;cursor:pointer;transition:all .3s ease;text-align:center;border-bottom:1px solid rgba(180,138,56,.2);position:relative;z-index:3}.main-menu-item:last-child{border-bottom:none}.main-menu-item:hover{color:#fff;transform:scale(1.1);animation:star-glow 1.5s infinite alternate}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:900;display:none;align-items:center;justify-content:center;animation:fadeIn .3s ease;perspective:1500px}.modal-overlay.visible{display:flex}.modal-scroll{position:relative;width:700px;max-width:90vw;height:85vh;max-height:700px;background:linear-gradient(to bottom,#f7f2e9,#e9e0cf);animation:scroll-glow 3s infinite ease-in-out;border:1px solid #c9b391;transform:scaleY(0);transition:transform .5s cubic-bezier(.68,-.55,.265,1.55);display:flex;flex-direction:column}.modal-scroll.visible{transform:scaleY(1)}.modal-scroll:before,.modal-scroll:after{content:"";position:absolute;left:-15px;width:calc(100% + 30px);height:30px;background:linear-gradient(to right,#6a4a2f,#9b744d,#6a4a2f);box-shadow:0 0 10px #000000b3,0 2px 3px #00000080 inset;border-top:1px solid #c9b391;border-bottom:1px solid #5a3a1f;z-index:10}.modal-scroll:before{top:0;border-radius:5px 5px 0 0}.modal-scroll:after{bottom:0;border-radius:0 0 5px 5px}.scroll-content-wrapper{width:100%;height:100%;display:flex;flex-direction:column;padding:30px 0;box-sizing:border-box;position:relative;z-index:5}.modal-header{padding:10px 30px;border-bottom:1px solid var(--border-dark);font-family:var(--font-ancient-header);font-size:1.8em;color:var(--ink-main);display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.modal-close{cursor:pointer;font-size:1.5em;line-height:1;transition:transform .2s ease,color .2s ease}.modal-close:hover{color:#a02c2c;transform:scale(1.2) rotate(90deg)}.modal-body{padding:15px 30px;overflow-y:auto;flex-grow:1}.modal-body::-webkit-scrollbar{width:8px}.modal-body::-webkit-scrollbar-track{background:#4a3c2a1a}.modal-body::-webkit-scrollbar-thumb{background-color:var(--ink-secondary);border-radius:4px;border:1px solid var(--border-dark)}#inventory-content,#companion-bag-content{display:flex;flex-wrap:wrap;gap:10px}.inventory-item{background:#4a3c2a0d;border:1px solid var(--border-dark);padding:5px 12px;border-radius:3px;font-size:1em}.companion-list .companion-item{display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:15px;padding:10px 0;border-bottom:1px dashed var(--border-dark);align-items:center}.companion-name{font-weight:700;font-size:1.1em;color:var(--ink-main)}.affection-value{color:#e53935;font-weight:700}.companion-bag-btn{font-family:var(--font-ancient-header);background:none;border:1px solid var(--ink-secondary);padding:5px 10px;cursor:pointer;transition:all .2s;border-radius:3px;font-size:.9em}.companion-bag-btn:hover{background:var(--ink-main);color:#fff;border-color:var(--ink-main)}#map-node-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}#map-node-title{flex-grow:1}#map-node-seal{flex-shrink:0;margin-left:20px;font-family:var(--font-ancient-body);font-size:.7em;color:var(--ink-secondary);border:1px solid var(--ink-secondary);padding:2px 8px;border-radius:4px}#map-node-body .section-title{font-weight:700;color:var(--gold-accent);display:block;margin-bottom:.5em;font-family:var(--font-ancient-header);font-size:1.1em}#map-node-body p{margin-top:0;margin-bottom:1em;line-height:1.7}#task-modal .modal-body{display:flex;padding:15px;gap:15px}.task-list-container{width:30%;flex-shrink:0;border-right:1px solid var(--border-dark);padding-right:15px;overflow-y:auto}.task-list-item{padding:10px;cursor:pointer;border-radius:4px;transition:background-color .3s,color .3s;font-family:var(--font-ancient-header);margin-bottom:5px;border:1px solid transparent}.task-list-item:hover{background-color:#0000000d}.task-list-item.active{background-color:var(--gold-accent);color:#fff;border-color:var(--ink-main)}.task-detail-container{flex-grow:1;position:relative;padding:10px}.task-title-wrapper{border:2px solid #c0392b;padding:10px 15px;margin-bottom:15px;box-shadow:0 0 10px #c0392b4d,0 0 5px #0003 inset}.task-title{font-family:var(--font-ancient-body);font-weight:700;font-size:1.6em;color:#5a2a2a}.task-detail-container hr{border:none;height:1px;background-color:var(--border-dark);margin:15px 0}.task-description{font-size:1.1em;line-height:1.8;color:var(--ink-secondary);white-space:pre-wrap}.no-task-message{font-size:1.2em;color:var(--ink-secondary);text-align:center;margin-top:2em;width:100%}.modal-content{background:var(--modal-bg);border:2px solid var(--ink-main);box-shadow:0 0 25px #0006;max-width:90%;width:500px;max-height:80%;display:flex;flex-direction:column;animation:fadeInScaleUp .4s ease-out;border-radius:4px}.settings-row{display:flex;align-items:center;margin-bottom:20px}.settings-row label{width:100px;font-family:var(--font-ancient-header)}.volume-slider{width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:8px;background:var(--border-dark);outline:none;border-radius:4px}.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;background:var(--ink-main);border:2px solid var(--gold-accent);border-radius:50%;cursor:pointer}.font-selector button{font-family:var(--font-ancient-header);background:none;border:1px solid var(--ink-secondary);padding:5px 10px;margin-right:10px;cursor:pointer;transition:all .2s}.font-selector button.active,.font-selector button:hover{background:var(--ink-main);color:#fff;border-color:var(--ink-main)}#inventory-modal .modal-scroll,#companion-bag-modal .modal-scroll{width:90vw!important;height:85vh!important;max-width:1300px!important;background:linear-gradient(to bottom,#2d241b,#1e1610);border:2px solid #8d6e63;box-shadow:0 0 0 4px #1a120b,0 10px 30px #000c,inset 0 0 60px #000c;border-radius:6px;display:flex;flex-direction:column;overflow:hidden;animation:bagOpen .4s cubic-bezier(.175,.885,.32,1.275) forwards}#companion-bag-modal .inventory-layout-wrapper{display:grid;grid-template-columns:240px 1fr 280px;height:100%;width:100%;position:relative;z-index:2}#companions-fullscreen-modal{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:880;display:flex;flex-direction:column;opacity:0;visibility:hidden;pointer-events:none;transition:opacity .4s ease}#galgame-container{position:absolute;top:0;left:0;width:100%;height:100%;font-family:var(--font-ancient-body);color:#fff;z-index:10;cursor:pointer;user-select:none;-webkit-user-select:none;opacity:1;visibility:visible;pointer-events:auto}#galgame-bg{position:absolute;top:0;left:0;width:100%;height:100%;background-size:100% 100%;background-position:center;z-index:0;transition:background-image 1s ease-in-out}#galgame-bg:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#0000 60%,#000000e6);pointer-events:none;z-index:1}#galgame-sprites{position:absolute;bottom:0;left:0;width:100%;height:100%;pointer-events:none;z-index:5;display:flex;justify-content:space-between;align-items:flex-end;padding:0 10%;box-sizing:border-box}.galgame-sprite{position:absolute;bottom:0;height:95%;max-width:45%;object-fit:contain;object-position:center bottom;transition:transform .6s cubic-bezier(.22,1,.36,1),filter .3s,opacity .4s;transform-origin:bottom center;opacity:0;filter:brightness(.4) blur(4px);z-index:5;left:var(--pos-offset-x, 50%);transform:translate(-50%) scale(.95)}.pos-far_left{--pos-offset-x: 15%;z-index:9}.pos-left{--pos-offset-x: 30%;z-index:10}.pos-center{--pos-offset-x: 50%;z-index:12}.pos-right{--pos-offset-x: 70%;z-index:10}.pos-far_right{--pos-offset-x: 85%;z-index:9}.galgame-sprite.active{opacity:1!important;transform:translate(-50%) scale(1.1)!important;filter:brightness(1.05) drop-shadow(0 0 15px rgba(255,215,0,.2))!important;z-index:20!important;animation:sprite-idle-breathe 4s ease-in-out infinite}.galgame-sprite.inactive{opacity:.8!important;transform:translate(-50%) scale(.95)!important;filter:brightness(.5) blur(2px) grayscale(.3)!important;z-index:5}@keyframes sprite-idle-breathe{0%,to{transform:translate(-50%) scale(1.1) translateY(0)}50%{transform:translate(-50%) scale(1.1) translateY(-8px)}}.anim-enter-fade{animation:sprite-enter-fade .8s ease-out forwards}@keyframes sprite-enter-fade{0%{opacity:0;transform:translate(-50%) translateY(20px) scale(.9)}to{opacity:1;transform:translate(-50%) translateY(0) scale(1)}}.anim-enter-jump{animation:sprite-enter-jump .7s cubic-bezier(.175,.885,.32,1.275) forwards}@keyframes sprite-enter-jump{0%{opacity:0;transform:translate(-50%) translateY(100vh)}60%{opacity:1;transform:translate(-50%) translateY(-30px)}80%{transform:translate(-50%) translateY(10px)}to{transform:translate(-50%) translateY(0);opacity:1}}.anim-enter-teleport{animation:sprite-enter-teleport .6s ease-out forwards}@keyframes sprite-enter-teleport{0%{opacity:0;filter:brightness(3) blur(20px);transform:translate(-50%) scale(1.5)}40%{opacity:1;filter:brightness(1.5) blur(5px);transform:translate(-50%) scale(1.1)}to{opacity:1;filter:brightness(1) blur(0);transform:translate(-50%) scale(1)}}.anim-enter-dissolve{animation:sprite-enter-dissolve 1s ease-out forwards}@keyframes sprite-enter-dissolve{0%{opacity:0;filter:blur(20px) saturate(0) brightness(5);transform:translate(-50%) translateY(-20px) scale(1.05)}to{opacity:1;filter:blur(0) saturate(1) brightness(1);transform:translate(-50%) translateY(0) scale(1)}}.anim-enter-pull{animation:sprite-enter-pull .6s cubic-bezier(.175,.885,.32,1.275) forwards}@keyframes sprite-enter-pull{0%{opacity:0;transform:translate(-50%) scale(.5)}to{opacity:1;transform:translate(-50%) scale(1)}}.anim-exit-fade{animation:sprite-exit-fade .6s ease-in forwards!important}@keyframes sprite-exit-fade{to{opacity:0!important;transform:translate(-50%) scale(.9)!important;filter:blur(10px)!important}}.anim-exit-dissolve{animation:sprite-exit-dissolve 1s forwards!important}@keyframes sprite-exit-dissolve{to{opacity:0!important;filter:blur(20px) saturate(0) brightness(5)!important;transform:translate(-50%) translateY(-20px) scale(1.05)!important}}.anim-exit-pull{animation:sprite-exit-pull .6s cubic-bezier(.6,-.28,.735,.045) forwards!important}@keyframes sprite-exit-pull{to{opacity:0!important;transform:translate(-50%) scale(.5)!important}}.anim-action-shake{animation:sprite-action-shake .4s ease-in-out}@keyframes sprite-action-shake{0%,to{transform:translate(-50%)}20%{transform:translate(calc(-50% - 15px))}40%{transform:translate(calc(-50% + 15px))}60%{transform:translate(calc(-50% - 10px))}80%{transform:translate(calc(-50% + 10px))}}.anim-action-jump{animation:sprite-action-jump .5s cubic-bezier(.2,.8,.2,1)}@keyframes sprite-action-jump{0%,to{transform:translate(-50%) translateY(0)}50%{transform:translate(-50%) translateY(-80px)}}.anim-action-hit{animation:sprite-action-hit .5s ease-out}@keyframes sprite-action-hit{0%{filter:brightness(3) sepia(1) hue-rotate(-50deg) saturate(5);transform:translate(-50%) scale(1)}20%{transform:translate(calc(-50% + 30px)) scale(.95) rotate(5deg)}to{filter:brightness(1);transform:translate(-50%) scale(1) rotate(0)}}.anim-action-dodge{animation:sprite-action-dodge .4s ease-out}@keyframes sprite-action-dodge{0%,to{transform:translate(-50%);filter:blur(0);opacity:1}30%{transform:translate(calc(-50% - 100px));filter:blur(4px);opacity:.6}}.galgame-ghost{position:absolute;bottom:0;height:95%;max-width:45%;object-fit:contain;object-position:center bottom;transform:translate(-50%);pointer-events:none;z-index:4;opacity:.4;filter:saturate(0) sepia(1) hue-rotate(180deg);animation:ghost-fade .5s ease-out forwards}@keyframes ghost-fade{to{opacity:0;filter:blur(10px);transform:translate(-50%) scale(1.05)}}#screen-fx{transition:opacity .3s,background .3s,mix-blend-mode .3s}.screen-shake-light{animation:screen-shake .5s ease-in-out}.screen-shake-strong{animation:screen-shake 1s ease-in-out}@keyframes screen-shake{0%,to{transform:translate(0)}10%{transform:translate(-8px,5px)}20%{transform:translate(6px,-7px)}30%{transform:translate(-5px,3px)}40%{transform:translate(7px,-4px)}50%{transform:translate(-3px,6px)}60%{transform:translate(4px,-2px)}70%{transform:translate(-2px,4px)}}.screen-flash-white{animation:flash-white .8s ease-out}@keyframes flash-white{0%{background:#fff;opacity:1;mix-blend-mode:normal}to{background:#fff;opacity:0;mix-blend-mode:normal}}.screen-flash-red{animation:flash-red .6s ease-out}@keyframes flash-red{0%{background:red;opacity:.6;mix-blend-mode:overlay}to{background:red;opacity:0;mix-blend-mode:overlay}}#dialogue-box{position:absolute;bottom:0;left:0;width:100%;height:30%;background:linear-gradient(to top,#000,#000000e6,#0000);padding:40px 8% 20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;z-index:20;pointer-events:none}#speaker-name{font-family:var(--font-ancient-header);font-size:clamp(1.3em,4vw,2em);color:var(--gold-accent);text-shadow:2px 2px 4px #000;padding:0;background:none;margin-bottom:8px;flex-shrink:0;pointer-events:auto}#dialogue-text{font-size:clamp(1em,3vw,1.3em);line-height:1.5;color:#f0e8d8;width:100%;max-height:100%;overflow-y:auto;pointer-events:auto;text-shadow:1px 1px 2px #000;white-space:pre-wrap;padding-right:10px}#dialogue-text::-webkit-scrollbar{width:4px}#dialogue-text::-webkit-scrollbar-thumb{background:#b48a384d;border-radius:2px}#galgame-ui-controls{position:absolute;bottom:31%;right:5%;display:flex;gap:12px;z-index:50;pointer-events:none}.galgame-ui-text-btn{pointer-events:auto;background:#000000b3;border:1px solid rgba(255,255,255,.4);color:#eee;padding:6px 14px;font-size:clamp(.8em,2.5vw,1em);cursor:pointer;transition:all .2s ease;border-radius:4px;font-family:var(--font-ancient-body);display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.galgame-ui-text-btn:hover{background:var(--gold-accent);color:#000;border-color:var(--gold-accent);transform:scale(1.05)}#galgame-autoplay-btn.playing{background:var(--gold-accent);color:#000;box-shadow:0 0 10px var(--gold-accent)}#fullscreen-btn:hover{background:#b48a38cc!important;transform:scale(1.1)}#dialogue-spinner{position:absolute;bottom:20px;right:30px;width:40px;height:40px;border:3px dashed var(--gold-accent);border-radius:50%;animation:rotate-clockwise 2s linear infinite;opacity:1;transition:opacity .3s;z-index:100;pointer-events:none;box-shadow:0 0 10px var(--gold-accent)}#dialogue-spinner.spinner-hidden{opacity:0;animation:none}#galgame-history-log{position:absolute;top:0;left:0;width:100%;height:100%;background:#0f0a0af2;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:900;padding:40px 10% 80px;box-sizing:border-box;opacity:0;visibility:hidden;transition:opacity .3s;overflow-y:auto;color:#ddd}#galgame-history-log.visible{opacity:1;visibility:visible;pointer-events:auto}#galgame-history-log::-webkit-scrollbar{width:6px}#galgame-history-log::-webkit-scrollbar-track{background:#ffffff0d}#galgame-history-log::-webkit-scrollbar-thumb{background:var(--gold-accent);border-radius:3px}.history-entry{display:flex;gap:20px;margin-bottom:15px;padding:15px;border:1px solid transparent;border-radius:8px;transition:all .2s ease;background:#ffffff05}.history-entry:hover,.history-entry.current-line{background:#b48a381a;border-color:#b48a384d}.history-entry.current-line{border-left:4px solid #39FF14}.history-avatar-box{width:80px;height:80px;flex-shrink:0;background:#1a120b;border:2px solid var(--ink-secondary);border-radius:6px;overflow:hidden;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px #00000080}.history-avatar-box img{width:100%;height:100%;object-fit:cover;object-position:top center}.history-avatar-placeholder{font-size:2em;opacity:.2}.history-content-wrapper{flex-grow:1;display:flex;flex-direction:column;justify-content:center}.history-speaker{font-family:var(--font-ancient-header);color:var(--gold-accent);margin-bottom:6px;font-size:1.1em;letter-spacing:1px}.history-text{font-size:1.05em;line-height:1.6;color:#e0e0e0}#galgame-history-log::-webkit-scrollbar{width:8px}#galgame-history-log::-webkit-scrollbar-track{background:#ffffff1a}#galgame-history-log::-webkit-scrollbar-thumb{background:#ffffff4d}.history-entry.current-line{border-left-color:#39ff14;background:#39ff141a}.history-entry:hover{background:#ffffff1a}#inventory-modal .modal-scroll{width:90vw!important;height:85vh!important;max-width:1300px!important;background:linear-gradient(to bottom,#2d241b,#1e1610);border:2px solid #8d6e63;box-shadow:0 0 0 4px #1a120b,0 10px 30px #000c,inset 0 0 60px #000c;border-radius:6px;display:flex;flex-direction:column;overflow:hidden;animation:bagOpen .4s cubic-bezier(.175,.885,.32,1.275) forwards}#inventory-modal .modal-scroll:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:repeating-linear-gradient(45deg,rgba(255,255,255,.02) 0px,rgba(255,255,255,.02) 1px,transparent 1px,transparent 10px);opacity:.3;pointer-events:none;z-index:0}.inventory-layout-wrapper{display:grid;grid-template-columns:240px 1fr 280px;height:100%;width:100%;position:relative;z-index:2;box-sizing:border-box}.inv-main-area{padding:40px 30px 30px;background:#00000026;overflow-y:auto;box-sizing:border-box;position:relative}.inv-main-area::-webkit-scrollbar{width:6px}.inv-main-area::-webkit-scrollbar-thumb{background:#5d4037;border-radius:3px}.inv-main-area::-webkit-scrollbar-track{background:#0000001a}.inventory-grid-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:15px;padding-bottom:20px;align-content:start}.inv-sidebar{background:#0000004d;border-right:2px solid #5d4037;padding:25px 15px;display:flex;flex-direction:column;gap:20px;box-shadow:5px 0 15px #0000004d}.inv-header-title{font-family:var(--font-ancient-header);font-size:2.2em;color:#e0c097;text-shadow:2px 2px 0 #000;text-align:center;margin-bottom:10px;letter-spacing:2px;border-bottom:1px solid #5d4037;padding-bottom:15px}.inv-stat-block{background:#0003;border:1px solid #5d4037;padding:10px;border-radius:4px}.inv-stat-label{font-size:.85em;color:#a1887f;margin-bottom:3px;font-family:var(--font-ancient-body)}.inv-stat-value{font-size:1.1em;color:#d7ccc8;font-family:var(--font-ancient-header)}.inv-category-list{display:flex;flex-direction:column;gap:8px;margin-top:10px}.inv-cat-btn{padding:12px 15px;background:#3e272366;border:1px solid #5d4037;color:#a1887f;cursor:pointer;text-align:left;transition:all .2s;font-family:var(--font-ancient-body);font-weight:700;border-radius:4px}.inv-cat-btn:hover{background:#5d403799;color:#fff;padding-left:20px}.inv-cat-btn.active{background:#8d6e63;color:#1a120b;border-color:#a1887f;box-shadow:inset 0 0 10px #0000004d}.inv-main-area{padding:25px;background:#0000001a;overflow-y:auto}.inv-main-area::-webkit-scrollbar{width:8px}.inv-main-area::-webkit-scrollbar-thumb{background:#5d4037;border-radius:4px}.inv-main-area::-webkit-scrollbar-track{background:#0003}.inventory-grid-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:12px}.inventory-slot{aspect-ratio:1;background:#1e140fcc;border:1px solid #5d4037;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:2.8em;cursor:pointer;transition:all .1s;box-shadow:inset 0 0 10px #000c;position:relative}.inventory-slot:hover{transform:scale(1.05);border-color:gold;background:#3e2723;z-index:5;box-shadow:0 0 10px #00000080}.item-icon{filter:drop-shadow(0 2px 2px rgba(0,0,0,.6))}.inv-inspector{background:#0003;border-left:2px solid #5d4037;padding:40px 20px;display:flex;flex-direction:column;align-items:center;text-align:center}.inspector-preview-box{width:140px;height:140px;margin-bottom:30px;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,rgba(255,215,0,.15) 0%,transparent 70%);border-radius:50%;animation:floatIcon 4s ease-in-out infinite}@keyframes floatIcon{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.inspector-icon{font-size:5.5em;filter:drop-shadow(0 10px 10px rgba(0,0,0,.5))}.inspector-name{font-family:var(--font-ancient-header);font-size:1.6em;color:#e0c097;margin-bottom:10px;border-bottom:2px solid #5d4037;padding-bottom:10px;width:90%}.inspector-type{font-family:var(--font-ancient-body);font-size:.9em;color:#a1887f;text-transform:uppercase;letter-spacing:2px;background:#0000004d;padding:5px 15px;border-radius:20px}.inv-close-btn{position:absolute;top:15px;right:15px;width:36px;height:36px;background:#3e2723;border:1px solid #8d6e63;border-radius:4px;color:#d7ccc8;font-size:1.2em;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:100;transition:all .2s}.inv-close-btn:hover{background:#b71c1c;border-color:#ffcdd2;color:#fff}@keyframes bagOpen{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes bagClose{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.95)}}@media (max-width: 900px){.inventory-layout-wrapper{grid-template-columns:200px 1fr;grid-template-rows:1fr}.inv-inspector{display:none}}#inventory-modal .modal-scroll:before,#inventory-modal .modal-scroll:after,#companion-bag-modal .modal-scroll:before,#companion-bag-modal .modal-scroll:after{display:none!important;content:none!important;height:0!important;border:none!important;box-shadow:none!important}#inventory-modal .modal-scroll,#companion-bag-modal .modal-scroll{border-radius:6px!important;border:2px solid #8d6e63!important;overflow:hidden!important}#map-node-modal .modal-scroll:before,#map-node-modal .modal-scroll:after{display:none!important}#map-node-modal .modal-scroll{background:#0f0a0ad9!important;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(180,138,56,.6);border-radius:8px;box-shadow:0 0 0 1px #000c,0 10px 40px #000c,0 0 30px #b48a3826 inset;width:600px!important;max-width:90vw;height:auto!important;max-height:80vh;transform:scale(.9);opacity:0;transition:all .3s cubic-bezier(.34,1.56,.64,1)}#map-node-modal.visible .modal-scroll{transform:scale(1);opacity:1}#map-node-modal .modal-header{border-bottom:1px solid rgba(180,138,56,.3);background:linear-gradient(to right,transparent,rgba(180,138,56,.1),transparent);padding:20px 30px;flex-direction:column;gap:10px;position:relative}#map-node-title{font-size:1.8em;color:gold;text-shadow:0 0 10px rgba(255,215,0,.5);letter-spacing:2px;text-align:center;width:100%;display:block}#map-node-seal{margin:0!important;font-size:.85em;color:#a8dadc;background:#ffffff0d;padding:2px 12px;border:1px solid rgba(168,218,220,.3);border-radius:20px;text-transform:uppercase;letter-spacing:1px}#map-node-modal .modal-close{position:absolute;top:15px;right:20px;color:#fff6;font-size:2em;font-weight:300}#map-node-modal .modal-close:hover{color:#ff5252;transform:scale(1.1)}#map-node-modal .modal-body{padding:30px 40px;color:#e0e0e0;font-size:1.05em;line-height:1.8;font-family:var(--font-ancient-body)}#map-node-body .section-title{color:#deb887;border-left:3px solid #b48a38;padding-left:10px;margin-top:20px;margin-bottom:10px;background:linear-gradient(to right,rgba(180,138,56,.1),transparent)}#task-modal .modal-scroll{width:900px!important;height:600px!important;max-width:95vw;background:radial-gradient(circle at 80% 20%,#1e1914f2,#0a0808fa)!important;border:1px solid rgba(180,138,56,.3);border-radius:16px;box-shadow:0 0 0 1px #000c,0 20px 50px #000000e6,0 0 40px #b48a381a inset;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);display:flex;flex-direction:column;overflow:hidden;transform:scale(.95);opacity:0;transition:all .4s cubic-bezier(.2,.8,.2,1)}#task-modal .modal-scroll:before,#task-modal .modal-scroll:after{display:none!important}#task-modal.visible .modal-scroll{transform:scale(1);opacity:1;animation:mysticPulse 4s infinite alternate}#task-modal .modal-header{height:70px;flex-shrink:0;display:flex;align-items:center;justify-content:space-between;padding:0 30px;background:linear-gradient(to right,rgba(180,138,56,.15) 0%,transparent 100%);border-bottom:1px solid rgba(180,138,56,.2);position:relative;overflow:hidden}#task-modal .modal-header:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,#ffd700,transparent);animation:flowLight 3s infinite linear}#task-modal .modal-header span:first-child{font-family:var(--font-ancient-header);font-size:1.8em;color:var(--gold-accent);text-shadow:0 0 10px rgba(180,138,56,.6);letter-spacing:4px}#task-modal .modal-close{color:#ffffff4d;font-size:2em;transition:all .3s}#task-modal .modal-close:hover{color:#ff4545;text-shadow:0 0 10px #ff4545;transform:rotate(90deg)}#task-body-wrapper{display:flex!important;flex:1;height:calc(100% - 70px);padding:0!important;position:relative}.task-list-container{width:300px!important;background:#0003;border-right:1px solid rgba(180,138,56,.15)!important;padding:20px 15px!important;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--ink-secondary) transparent}.task-list-item{padding:18px 20px!important;margin-bottom:12px!important;background:linear-gradient(90deg,rgba(255,255,255,.02),transparent);border:1px solid rgba(255,255,255,.05)!important;border-left:3px solid transparent!important;border-radius:4px!important;color:#888!important;font-family:var(--font-ancient-header)!important;font-size:1.1em;cursor:pointer;transition:all .3s ease!important;position:relative;overflow:hidden}.task-list-item:hover{background:linear-gradient(90deg,rgba(180,138,56,.1),transparent);color:#ccc!important;padding-left:25px!important;border-color:#b48a384d!important}.task-list-item.active{background:linear-gradient(90deg,rgba(180,138,56,.25),transparent)!important;border-color:var(--gold-accent)!important;border-left-color:var(--gold-accent)!important;color:#fff!important;text-shadow:0 0 8px rgba(180,138,56,.8);box-shadow:0 4px 15px #0000004d}.task-list-item.active:before{content:"✦";position:absolute;right:15px;top:50%;transform:translateY(-50%);color:var(--gold-accent);font-size:1.2em;animation:spinSlow 4s linear infinite;opacity:.8}.task-detail-container{flex:1;padding:40px 50px!important;position:relative;overflow-y:auto;background-image:radial-gradient(circle at 10% 10%,rgba(180,138,56,.03) 0%,transparent 20%),radial-gradient(circle at 90% 90%,rgba(180,138,56,.03) 0%,transparent 20%)}.task-title-wrapper{margin-bottom:30px!important;padding-bottom:15px;border-bottom:1px solid rgba(180,138,56,.2);position:relative;border:none!important;box-shadow:none!important}.task-title-wrapper:after{content:"";position:absolute;bottom:-1px;left:0;width:0;height:2px;background:var(--gold-accent);box-shadow:0 0 8px var(--gold-accent);animation:lineExpand .6s .2s forwards ease-out}.task-title{font-family:var(--font-ancient-header)!important;font-size:2.4em!important;color:#fff!important;text-shadow:0 4px 10px rgba(0,0,0,1);margin:0!important;letter-spacing:2px;animation:textFadeIn .5s ease-out}.task-description{font-family:var(--font-ancient-body);font-size:1.2em!important;line-height:1.8!important;color:#d0d0d0!important;white-space:pre-wrap;animation:textFadeIn .6s ease-out .1s backwards;text-align:justify}.no-task-message{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-family:var(--font-ancient-header);font-size:1.5em;color:#fff3;letter-spacing:3px;text-shadow:0 -1px 0 rgba(0,0,0,.5);flex-direction:column;gap:15px}.no-task-message:before{content:"✧";font-size:3em;opacity:.5;animation:mysticPulse 2s infinite ease-in-out}@keyframes flowLight{0%{transform:translate(-100%);opacity:0}50%{opacity:1}to{transform:translate(100%);opacity:0}}@keyframes mysticPulse{0%{box-shadow:0 20px 50px #000000e6,0 0 40px #b48a380d inset}to{box-shadow:0 20px 50px #000000e6,0 0 60px #b48a3826 inset}}@keyframes spinSlow{to{transform:translateY(-50%) rotate(360deg)}}@keyframes lineExpand{0%{width:0;opacity:0}to{width:100px;opacity:1}}@keyframes textFadeIn{0%{opacity:0;transform:translateY(10px);filter:blur(5px)}to{opacity:1;transform:translateY(0);filter:blur(0)}}@media (max-width: 768px){#task-body-wrapper{flex-direction:column!important}.task-list-container{width:100%!important;height:120px!important;flex-shrink:0;border-right:none!important;border-bottom:1px solid rgba(180,138,56,.2);display:flex;flex-direction:row;overflow-x:auto;padding:10px!important;gap:10px}.task-list-item{flex-shrink:0;width:160px;margin-bottom:0!important;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.task-list-item.active:before{display:none}.task-detail-container{padding:20px!important}.task-title{font-size:1.8em!important}.task-description{font-size:1.05em!important}}.no-task-message{margin-top:100px!important;font-style:italic;opacity:.5}#settings-modal{display:none;padding:0!important;background:transparent!important}#settings-modal.visible{display:block!important}#settings-modal .modal-content{background:#080808d9!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:none!important;border-radius:0!important;width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;margin:0!important;padding:60px 40px!important;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;z-index:1000}#fullscreen-btn{z-index:2000!important}#settings-modal .modal-header{width:100%;max-width:1200px;border-bottom:2px solid var(--gold-accent);margin-bottom:40px;padding-bottom:20px}#settings-modal .modal-header span:first-child{font-size:2em;letter-spacing:.1em;text-shadow:0 0 10px rgba(180,138,56,.5)}#settings-modal .modal-body{width:100%;max-width:1200px;display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:40px;padding:20px;overflow-y:auto;scrollbar-width:none}#settings-modal .modal-body::-webkit-scrollbar{display:none}.settings-section{background:#ffffff08;padding:25px;border-radius:8px;border:1px solid rgba(180,138,56,.15);height:fit-content}.settings-section-title{display:flex;align-items:center;gap:10px;color:var(--gold-accent);font-family:var(--font-ancient-header);font-size:.9em;margin-bottom:20px;opacity:.8}.settings-section-title:after{content:"";flex:1;height:1px;background:linear-gradient(to right,rgba(180,138,56,.3),transparent)}.audio-control-row{margin-bottom:25px}.audio-label-group{display:flex;justify-content:space-between;margin-bottom:8px;color:#ccc;font-size:.9em}.val-display{color:var(--gold-accent);font-family:monospace}.magic-slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:4px;background:#b48a3833;border-radius:2px;outline:none;cursor:pointer}.magic-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;background:#fff;border:2px solid var(--gold-accent);border-radius:50%;cursor:pointer;box-shadow:0 0 10px var(--gold-accent);transition:.2s;margin-top:-7px}.magic-slider::-moz-range-thumb{width:18px;height:18px;background:#fff;border:2px solid var(--gold-accent);border-radius:50%;cursor:pointer;box-shadow:0 0 10px var(--gold-accent);transition:.2s;border:none}.magic-slider:hover::-webkit-slider-thumb{transform:scale(1.2);background:var(--gold-accent)}.magic-slider:hover::-moz-range-thumb{transform:scale(1.2);background:var(--gold-accent)}.magic-slider::-webkit-slider-thumb:hover{transform:scale(1.2);background:var(--gold-accent)}.font-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}.font-btn{background:#ffffff0d;border:1px solid rgba(180,138,56,.2);color:#aaa;padding:12px 5px;cursor:pointer;border-radius:6px;transition:all .3s;font-size:.9em;text-align:center}.font-btn:hover{background:#b48a381a;color:#fff}.font-btn.active{background:#b48a3833;border-color:var(--gold-accent);color:var(--gold-accent);box-shadow:0 0 15px #b48a3833}.f-serif{font-family:"Noto Serif SC",serif}.f-hand{font-family:LXGW WenKai TC,cursive}.f-modern{font-family:sans-serif}#dialogue-box{padding:2% 4% 1%!important}#speaker-name{font-size:clamp(14px,4vw,24px)!important;margin-bottom:2px!important}#dialogue-text{font-size:clamp(12px,2.2vw,18px)!important;line-height:1.4!important}#inventory-modal .modal-scroll,#companion-bag-modal .modal-scroll{width:95%!important;max-width:100%!important;height:80vh!important}@media (max-width: 900px){.inventory-layout-wrapper{display:flex!important;flex-direction:column!important;height:100%!important;overflow-y:auto!important}.inv-sidebar{width:100%!important;flex-direction:row!important;padding:5px!important;flex-shrink:0!important;overflow-x:auto;border-right:none!important;border-bottom:2px solid #5d4037}.inv-cat-btn{padding:5px 10px!important;font-size:.8em!important;white-space:nowrap}.inv-header-title,.inv-stat-block{display:none!important}.inv-main-area{width:100%!important;flex-grow:1!important;padding:10px!important}.inv-inspector{display:none!important}#fullscreen-btn{width:30px!important;height:30px!important;bottom:5px!important;right:5px!important}}@media (max-height: 500px){#dialogue-box{height:40%!important;background:#000c!important}#galgame-ui-controls{bottom:42%!important}}@media (min-width: 901px){.inv-sidebar{overflow-y:auto!important;height:100%!important;max-height:100%!important;min-height:0!important;gap:12px!important;padding-top:20px!important;padding-bottom:20px!important}.inv-sidebar::-webkit-scrollbar{width:4px}.inv-sidebar::-webkit-scrollbar-track{background:#0000001a}.inv-sidebar::-webkit-scrollbar-thumb{background:#8d6e6380;border-radius:2px}.inv-sidebar::-webkit-scrollbar-thumb:hover{background:#b48a38cc}}body.fs-small #dialogue-text{font-size:14px!important;line-height:1.6!important}body.fs-small #speaker-name{font-size:18px!important}body.fs-small .history-text{font-size:14px!important}body.fs-normal #dialogue-text{font-size:18px!important;line-height:1.6!important}body.fs-normal #speaker-name{font-size:24px!important}body.fs-normal .history-text{font-size:16px!important}body.fs-large #dialogue-text{font-size:24px!important;line-height:1.5!important}body.fs-large #speaker-name{font-size:32px!important}body.fs-large .history-text{font-size:20px!important}body.fs-xlarge #dialogue-text{font-size:32px!important;line-height:1.4!important}body.fs-xlarge #speaker-name{font-size:40px!important}body.fs-xlarge .history-text{font-size:24px!important}#battle-modal{background:#000000f2;z-index:9999}@media (hover: none){.menu-items-container{opacity:1!important;background:radial-gradient(circle at 50% 50%,rgba(255,221,150,.15) 0%,transparent 60%)!important}.main-menu-item{color:#fffffff2!important;border-bottom-color:#b48a3866!important}}@media (max-width: 768px) and (orientation: portrait){#app-root{width:100vw;padding-top:56.25%}.galgame-sprite{max-width:65%!important;height:85%!important}#sprite-left{left:15%!important}#sprite-right{right:15%!important}#dialogue-box{height:38%!important;padding:20px 5% 10px!important;background:linear-gradient(to top,rgba(0,0,0,1) 10%,rgba(0,0,0,.8) 80%,transparent 100%)!important}#speaker-name{font-size:22px!important}#dialogue-text{font-size:18px!important;line-height:1.5!important}#galgame-ui-controls{bottom:40%!important;right:10px!important}.galgame-ui-text-btn{padding:10px 20px!important;font-size:16px!important}.modal-scroll{width:95vw!important;height:90vh!important;max-width:none!important;max-height:none!important}.node-tooltip{font-size:14px;padding:5px;bottom:120%}}@media (max-height: 500px) and (orientation: landscape){#dialogue-box{height:45%!important}#speaker-name{font-size:18px!important;margin-bottom:2px!important}#galgame-ui-controls{bottom:48%!important;right:20px!important}.galgame-sprite{height:90%!important}}@media (max-height: 600px) and (orientation: landscape){#map-node-modal .modal-scroll{width:90vw!important;height:90vh!important;max-height:none!important;display:flex!important;flex-direction:column!important}#map-node-modal .modal-body{flex:1;overflow-y:auto!important;padding:10px 20px!important}#map-node-modal .section-title{margin-top:10px!important}#inventory-modal .inventory-layout-wrapper,#companion-bag-modal .inventory-layout-wrapper{display:grid!important;grid-template-columns:140px 1fr 160px!important;grid-template-rows:100%!important;height:100%!important;overflow:hidden!important}.inv-sidebar{flex-direction:column!important;width:100%!important;overflow-y:auto!important;border-right:2px solid #5d4037!important;border-bottom:none!important;padding:10px!important}.inv-header-title{display:none!important}.inv-stat-block{padding:5px!important;margin-bottom:5px!important}.inv-cat-btn{padding:5px 8px!important;font-size:.8em!important}.inv-main-area{width:100%!important;padding:10px!important}.inventory-grid-container{grid-template-columns:repeat(auto-fill,minmax(60px,1fr))!important;gap:5px!important}.inventory-slot{font-size:2em!important}.inv-inspector{display:flex!important;width:100%!important;padding:10px!important;overflow-y:auto!important;border-left:2px solid #5d4037}.inspector-preview-box{width:80px!important;height:80px!important;margin-bottom:10px!important}.inspector-icon{font-size:3em!important}.inspector-name{font-size:1.2em!important;margin-bottom:5px!important}.inspector-type{font-size:.8em!important;padding:2px 8px!important}}.settings-section{margin-bottom:25px;border-bottom:1px dashed var(--border-dark);padding-bottom:15px}.settings-section:last-child{border-bottom:none}.settings-section-title{font-family:var(--font-ancient-header);font-size:1.4em;color:var(--ink-main);margin-bottom:15px;border-left:3px solid var(--gold-accent);padding-left:10px}.magical-input{background:#0000000d;border:1px solid var(--ink-secondary);border-radius:4px;padding:8px 12px;color:var(--ink-main);font-family:var(--font-ancient-body);font-size:1em;transition:all .3s ease;width:100%;box-sizing:border-box}.magical-input:focus{background:#ffffff4d;border-color:var(--gold-accent);box-shadow:0 0 8px #b48a3833;outline:none}.magical-btn{background:transparent;border:1px solid var(--ink-secondary);color:var(--ink-main);padding:8px 20px;cursor:pointer;font-family:var(--font-ancient-header);border-radius:4px;transition:all .3s}.magical-btn:hover{background:#4a3c2a1a;transform:translateY(-1px)}.magical-btn.primary{background:var(--ink-main);color:#f7f2e9;border-color:var(--ink-main)}.magical-btn.primary:hover{background:#5d4037;box-shadow:0 4px 10px #0003}.map-content-wrapper{background:url(https://cdn.jsdelivr.net/gh/biaroli/EtelGarde@main/map/图1.webp) no-repeat center center!important;background-size:100% 100%!important}#epic-map-container.night-mode .map-content-wrapper{background-image:url(https://cdn.jsdelivr.net/gh/biaroli/EtelGarde@main/map/图2.webp)!important}.map-node.current-location{z-index:9999!important;pointer-events:auto!important}.map-node.current-location:after{content:"";display:block!important;position:absolute;bottom:0;left:50%;width:40px;height:40px;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='%23e53935' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z' stroke='%233e2723' stroke-width='1.5'/%3E%3C/svg%3E");background-size:contain;background-repeat:no-repeat;filter:drop-shadow(0 5px 5px rgba(0,0,0,.6));animation:pinFloat 1.5s ease-in-out infinite;transform-origin:bottom center}.map-node.current-location:before{content:"";display:block;position:absolute;bottom:0;left:50%;transform:translate(-50%);width:12px;height:6px;background:#0009;border-radius:50%;z-index:-1;animation:shadowBreath 1.5s ease-in-out infinite}#companions-fullscreen-modal{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0006;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:9999;display:flex;flex-direction:column;opacity:0;visibility:hidden;pointer-events:none;transition:opacity .4s ease}#companions-fullscreen-modal.visible{opacity:1;visibility:visible;pointer-events:auto}.comp-top-bar{height:120px;width:100%;background:linear-gradient(to bottom,rgba(0,0,0,.8),transparent);display:flex;align-items:center;justify-content:center;gap:20px;padding:10px 0;z-index:10;overflow-x:auto;flex-shrink:0}.comp-avatar-slot{width:80px;height:80px;border:2px solid rgba(255,255,255,.3);border-radius:50%;cursor:pointer;transition:all .3s;position:relative;overflow:hidden;background:#000;flex-shrink:0;filter:blur(2px) brightness(.7)}.comp-avatar-slot img{width:100%;height:100%;object-fit:cover;object-position:top}.comp-avatar-slot:hover,.comp-avatar-slot.active{transform:scale(1.15);border-color:var(--gold-accent);filter:blur(0) brightness(1);box-shadow:0 0 15px var(--gold-accent)}.comp-stage-area{flex-grow:1;position:relative;display:flex;justify-content:center;align-items:center;overflow:hidden}.comp-magic-circle{position:absolute;width:80vh;height:80vh;border:2px dashed rgba(255,255,255,.08);border-radius:50%;animation:rotate-clockwise 60s linear infinite;pointer-events:none}.comp-full-sprite{height:95%;max-width:80%;object-fit:contain;filter:drop-shadow(0 5px 15px rgba(0,0,0,.8));transition:all .4s cubic-bezier(.2,.8,.2,1);animation:breath 4s ease-in-out infinite;opacity:0;transform:scale(.95)}.comp-full-sprite.loaded{opacity:1;transform:scale(1)}.comp-info-overlay{position:absolute;bottom:40px;left:50%;transform:translate(-50%);width:600px;max-width:90%;background:#0a0505e6;border:1px solid #8d6e63;border-radius:8px;padding:20px 30px;display:flex;flex-direction:column;align-items:center;box-shadow:0 10px 40px #000000e6;border-top:3px solid var(--gold-accent)}.comp-name-display{font-family:var(--font-ancient-header);font-size:2.5em;color:#e0c097;text-shadow:0 2px 10px rgba(0,0,0,.8);margin-bottom:5px}.comp-status-text{font-family:var(--font-ancient-body);color:#ccc;font-size:1em;letter-spacing:1px;margin-bottom:15px}.comp-affection-wrapper{width:100%;display:flex;align-items:center;gap:15px;margin-bottom:20px}.comp-heart-icon{font-size:1.5em;color:#ff4081;animation:core-pulse 1.5s infinite}.comp-affection-track{flex-grow:1;height:12px;background:#ffffff1a;border-radius:6px;overflow:hidden;border:1px solid rgba(255,255,255,.2)}.comp-affection-fill{height:100%;width:0%;background:linear-gradient(90deg,#ff4081,#ff80ab);box-shadow:0 0 10px #ff4081;transition:width 1s ease-out}.comp-affection-val{font-family:var(--font-ancient-header);color:#ff80ab;width:40px;text-align:right}.comp-open-bag-btn{background:linear-gradient(135deg,#3e2723,#5d4037);border:1px solid var(--gold-accent);color:var(--gold-accent);font-family:var(--font-ancient-header);font-size:1.2em;padding:10px 40px;cursor:pointer;transition:all .3s;text-transform:uppercase;letter-spacing:2px;box-shadow:0 4px 15px #00000080;display:flex;align-items:center;gap:10px}.comp-open-bag-btn:hover{background:linear-gradient(135deg,#5d4037,#8d6e63);transform:scale(1.05);box-shadow:0 0 20px #b48a3866}.comp-close-fs{position:absolute;top:30px;right:40px;font-size:3em;color:#ffffff80;cursor:pointer;transition:all .3s;z-index:20}.comp-close-fs:hover{color:#fff;transform:rotate(90deg) scale(1.2)}@keyframes pinFloat{0%,to{transform:translate(-50%) translateY(0)}50%{transform:translate(-50%) translateY(-12px)}}@keyframes shadowBreath{0%,to{transform:translate(-50%) scale(1);opacity:.6}50%{transform:translate(-50%) scale(.6);opacity:.3}}@keyframes breath{0%,to{filter:drop-shadow(0 5px 15px rgba(0,0,0,.8)) brightness(1)}50%{filter:drop-shadow(0 5px 25px rgba(180,138,56,.2)) brightness(1.05)}}@keyframes core-pulse{0%{transform:rotate(45deg) scale(.95);opacity:.7}50%{transform:rotate(45deg) scale(1.05);opacity:1}to{transform:rotate(45deg) scale(.95);opacity:.7}}@keyframes rotate-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#companions-fullscreen-modal{z-index:2000!important}#companion-bag-modal,#inventory-modal{z-index:3000!important}#main-menu-modal{z-index:4000!important}#chat-modal .modal-content{background:radial-gradient(ellipse at center,#1a1210,#0d0908)!important;border:2px solid var(--gold-accent)!important;box-shadow:0 0 30px #b48a384d,0 0 60px #000c,inset 0 0 30px #b48a381a!important;border-radius:12px!important;overflow:hidden;position:relative;width:550px!important;max-width:90vw!important}#chat-modal .modal-content:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(45deg,transparent 0px,transparent 20px,rgba(180,138,56,.02) 20px,rgba(180,138,56,.02) 21px);pointer-events:none;z-index:0}#chat-modal .modal-header{background:linear-gradient(to right,rgba(180,138,56,.2),transparent,rgba(180,138,56,.2))!important;border-bottom:1px solid rgba(180,138,56,.4)!important;padding:18px 25px!important;position:relative;z-index:1}#chat-modal .modal-header span:first-child{font-family:var(--font-ancient-header)!important;font-size:1.4em!important;color:var(--gold-accent)!important;text-shadow:0 0 10px rgba(180,138,56,.5);letter-spacing:3px}#chat-modal .modal-header span:first-child:before{content:"✦ ";opacity:.7}#chat-modal .modal-header span:first-child:after{content:" ✦";opacity:.7}#chat-modal .modal-close{color:#ffffff80!important;font-size:1.8em!important;transition:all .3s ease}#chat-modal .modal-close:hover{color:#ff5252!important;text-shadow:0 0 10px #ff5252;transform:rotate(90deg) scale(1.1)}#chat-modal .modal-body{padding:25px 30px!important;position:relative;z-index:1}#chat-input{width:100%!important;min-height:120px;padding:15px 18px!important;background:linear-gradient(135deg,#140f0cf2,#1e1612e6)!important;border:1px solid rgba(180,138,56,.4)!important;border-radius:8px!important;color:#e8e0d0!important;font-family:var(--font-ancient-body)!important;font-size:1.05em!important;line-height:1.6!important;resize:vertical;transition:all .3s ease;box-shadow:inset 0 2px 6px #00000080,0 0 0 1px #0000004d}#chat-input::placeholder{color:#b48a3880!important;font-style:italic}#chat-input:focus{outline:none!important;border-color:var(--gold-accent)!important;box-shadow:inset 0 2px 6px #00000080,0 0 15px #b48a384d,0 0 0 1px var(--gold-accent);background:linear-gradient(135deg,#19120efa,#231a14f2)!important}#send-chat-btn{width:100%!important;padding:14px 30px!important;margin-top:15px!important;background:linear-gradient(135deg,#3e2723,#5d4037,#3e2723)!important;background-size:200% 100%;border:1px solid var(--gold-accent)!important;border-radius:6px!important;color:var(--gold-accent)!important;font-family:var(--font-ancient-header)!important;font-size:1.2em!important;letter-spacing:3px;cursor:pointer;position:relative;overflow:hidden;transition:all .4s ease;text-transform:uppercase;box-shadow:0 4px 15px #00000080,inset 0 1px #ffffff1a}#send-chat-btn:before{content:"⚔";margin-right:10px;opacity:.8}#send-chat-btn:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(180,138,56,.3),transparent);transition:left .5s ease}#send-chat-btn:hover{background-position:100% 0;transform:translateY(-2px);box-shadow:0 6px 20px #b48a384d,0 10px 30px #0009,inset 0 1px #fff3;text-shadow:0 0 10px var(--gold-accent)}#send-chat-btn:hover:after{left:100%}#send-chat-btn:active{transform:translateY(0);box-shadow:0 2px 10px #00000080,inset 0 2px 4px #0000004d}#chat-modal .modal-content:after{content:"";position:absolute;top:10px;left:10px;right:10px;bottom:10px;border:1px dashed rgba(180,138,56,.15);border-radius:8px;pointer-events:none}.hud-element{z-index:9000}#character-creation-modal .modal-content{background:#0a0a0cf2;border:2px solid var(--gold-accent);box-shadow:0 0 30px #000c,inset 0 0 50px #000c;color:#e0c097;font-family:var(--font-ancient-body)}#character-creation-modal .modal-header{border-bottom:1px solid var(--gold-accent);padding-bottom:15px;margin-bottom:20px;text-align:center}#character-creation-modal .modal-header span{font-family:var(--font-ancient-header);font-size:1.8em;color:var(--gold-accent);text-shadow:0 0 10px rgba(180,138,56,.3);letter-spacing:.1em}#character-creation-modal .settings-row{margin-bottom:20px;display:flex;flex-direction:column;align-items:flex-start}#character-creation-modal label{font-family:var(--font-ancient-header);color:#a89f91;font-size:1.1em;margin-bottom:8px;display:block;letter-spacing:.05em}#character-creation-modal .magical-input{width:100%;background:#0006;border:1px solid var(--ink-secondary);color:#fff;font-family:var(--font-ancient-body);font-size:1.1em;padding:12px;border-radius:2px;transition:all .3s ease;box-sizing:border-box}#character-creation-modal .magical-input:focus{border-color:var(--gold-accent);box-shadow:0 0 15px #b48a3833;outline:none;background:#0009}#character-creation-modal .magical-btn.primary{background:linear-gradient(to bottom,#b48a3833,#b48a381a);border:1px solid var(--gold-accent);color:var(--gold-accent);font-family:var(--font-ancient-header);font-size:1.3em;padding:15px;letter-spacing:.2em;transition:all .3s ease;cursor:pointer;text-align:center;position:relative;overflow:hidden}#character-creation-modal .magical-btn.primary:hover{background:var(--gold-accent);color:#0d0d0d;box-shadow:0 0 30px #b48a3880;text-shadow:none;font-weight:700}#character-creation-modal p{color:#8a7c6a!important;line-height:1.6;border-left:3px solid var(--ink-secondary);margin-bottom:25px!important;font-style:italic;background:linear-gradient(to right,rgba(122,108,90,.1),transparent);padding:10px 15px}.save-manager-panel{width:90vw;max-width:800px;height:85vh;max-height:700px;background:linear-gradient(145deg,#120e0af5,#1e1812fa);border:1px solid rgba(180,138,56,.35);border-radius:12px;box-shadow:0 0 40px #000000b3,0 0 80px #b48a3814,inset 0 1px #ffffff0d;display:flex;flex-direction:column;overflow:hidden;animation:saveManagerAppear .4s cubic-bezier(.175,.885,.32,1.275)}@keyframes saveManagerAppear{0%{opacity:0;transform:translateY(20px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}.save-manager-header{display:flex;align-items:center;justify-content:space-between;padding:16px 22px;border-bottom:1px solid rgba(180,138,56,.2);background:linear-gradient(180deg,rgba(180,138,56,.08) 0%,transparent 100%)}.save-manager-title{display:flex;align-items:center;gap:10px;font-family:var(--font-ancient-header);font-size:1.2em;color:#e0c097;text-shadow:0 1px 3px rgba(0,0,0,.5)}.save-manager-title svg{color:var(--gold-accent);filter:drop-shadow(0 0 4px rgba(180,138,56,.4))}.save-manager-close{background:none;border:1px solid rgba(255,255,255,.1);color:#888;width:32px;height:32px;border-radius:8px;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.save-manager-close:hover{color:#ff6b6b;border-color:#ff6b6b4d;background:#ff6b6b14}.save-current-section{padding:16px 22px;border-bottom:1px solid rgba(255,255,255,.06);background:#b48a3808}.save-current-row{display:flex;gap:10px;align-items:center}.save-name-input{flex:1;padding:10px 14px;background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#ddd;font-family:var(--font-ancient-body);font-size:.9em;outline:none;transition:all .25s ease}.save-name-input:focus{border-color:#b48a3880;box-shadow:0 0 12px #b48a3826;background:#0006}.save-name-input::placeholder{color:#666}.save-current-btn{display:flex;align-items:center;gap:6px;padding:10px 18px;background:linear-gradient(135deg,#b48a3840,#b48a3826);border:1px solid rgba(180,138,56,.45);border-radius:8px;color:#e0c097;font-family:var(--font-ancient-body);font-size:.85em;cursor:pointer;transition:all .25s ease;white-space:nowrap}.save-current-btn:hover{background:linear-gradient(135deg,#b48a3866,#b48a3840);box-shadow:0 0 20px #b48a3833;transform:translateY(-1px)}.save-current-btn:active{transform:translateY(0)}.save-current-btn svg{flex-shrink:0}.save-current-hint{margin-top:8px;font-size:.78em;color:#777;font-family:var(--font-ancient-body)}.save-current-hint .rag-active{color:#6bcf7f}.save-current-hint .rag-inactive{color:#888}.save-slots-container{flex:1;overflow-y:auto;padding:12px 16px;min-height:120px}.save-slots-container::-webkit-scrollbar{width:5px}.save-slots-container::-webkit-scrollbar-track{background:transparent}.save-slots-container::-webkit-scrollbar-thumb{background:#b48a3840;border-radius:10px}.save-slots-list{display:flex;flex-direction:column;gap:8px}.save-slot-card{position:relative;display:flex;align-items:center;padding:14px 16px;background:linear-gradient(135deg,#ffffff08,#ffffff03);border:1px solid rgba(255,255,255,.06);border-radius:10px;cursor:pointer;transition:all .25s ease;overflow:hidden}.save-slot-card:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,transparent 40%,rgba(180,138,56,.03) 100%);opacity:0;transition:opacity .3s ease;pointer-events:none}.save-slot-card:hover{border-color:#b48a384d;background:linear-gradient(135deg,#ffffff0d,#ffffff05);transform:translate(3px)}.save-slot-card:hover:before{opacity:1}.save-slot-card.active-slot{border-color:#b48a3880;background:linear-gradient(135deg,#b48a381a,#b48a380a);box-shadow:0 0 20px #b48a380f}.slot-indicator{width:4px;height:36px;border-radius:2px;margin-right:14px;flex-shrink:0;transition:all .3s ease}.save-slot-card .slot-indicator{background:#ffffff1a}.save-slot-card.active-slot .slot-indicator{background:linear-gradient(180deg,#e0c097,var(--gold-accent));box-shadow:0 0 8px #b48a3866}.slot-info{flex:1;min-width:0}.slot-name-row{display:flex;align-items:center;gap:8px;margin-bottom:4px}.slot-name{font-family:var(--font-ancient-body);font-size:.95em;color:#ddd;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.save-slot-card.active-slot .slot-name{color:#e0c097}.slot-badge{font-size:.65em;padding:1px 7px;border-radius:10px;font-weight:600;letter-spacing:.5px;flex-shrink:0}.slot-badge.current{background:#b48a3833;color:var(--gold-accent);border:1px solid rgba(180,138,56,.35)}.slot-meta{display:flex;align-items:center;gap:12px;font-size:.75em;color:#777}.slot-meta-item{display:flex;align-items:center;gap:4px}.slot-meta-item svg{opacity:.6;flex-shrink:0}.slot-meta .rag-on{color:#6bcf7f}.slot-meta .rag-off{color:#666}.slot-actions{display:flex;gap:6px;margin-left:12px;flex-shrink:0;opacity:.5;transition:opacity .2s}.save-slot-card:hover .slot-actions{opacity:1}.slot-btn{padding:6px 12px;border-radius:6px;border:1px solid rgba(255,255,255,.1);background:#ffffff0a;color:#aaa;font-family:var(--font-ancient-body);font-size:.78em;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:4px}.slot-btn:hover{background:#ffffff14;color:#ddd;border-color:#fff3}.slot-btn.rename-btn:hover{border-color:#64b4ff4d;color:#8cc4ff}.slot-btn.load-btn:hover{border-color:#b48a3866;color:#e0c097;background:#b48a381a}.slot-btn.delete-btn:hover{border-color:#ff50504d;color:#ff7b7b;background:#ff505014}.save-slots-empty{display:none;flex-direction:column;align-items:center;justify-content:center;gap:10px;padding:40px 20px;color:#555;font-family:var(--font-ancient-body);font-size:.9em}.save-slots-empty svg{color:#444}.slot-rename-input{background:#0006;border:1px solid rgba(180,138,56,.4);border-radius:4px;color:#ddd;font-family:var(--font-ancient-body);font-size:.9em;padding:2px 8px;width:160px;outline:none}#toast-container{position:fixed;top:20px;right:20px;z-index:99999;display:flex;flex-direction:column;gap:8px;pointer-events:none}.game-toast{display:flex;align-items:center;gap:10px;padding:12px 18px;border-radius:10px;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);font-family:var(--font-ancient-body);font-size:.88em;color:#e0e0e0;max-width:380px;pointer-events:auto;opacity:0;transform:translate(40px);transition:none;box-shadow:0 4px 20px #0006}.game-toast.toast-visible{opacity:1;transform:translate(0);transition:opacity .3s ease,transform .3s cubic-bezier(.175,.885,.32,1.275)}.game-toast.toast-exit{animation:toastSlideOut .3s ease forwards}@keyframes toastSlideOut{to{opacity:0;transform:translate(40px)}}.toast-icon{font-size:1.1em;flex-shrink:0;width:22px;height:22px;display:flex;align-items:center;justify-content:center;border-radius:50%}.toast-msg{line-height:1.4}.toast-success{background:#142814eb;border:1px solid rgba(107,207,127,.35)}.toast-success .toast-icon{color:#6bcf7f;background:#6bcf7f26}.toast-error{background:#281212eb;border:1px solid rgba(255,100,100,.35)}.toast-error .toast-icon{color:#ff7b7b;background:#ff646426}.toast-info{background:#121828eb;border:1px solid rgba(100,160,255,.3)}.toast-info .toast-icon{color:#8cc4ff;background:#64a0ff26}.toast-warning{background:#28200feb;border:1px solid rgba(255,200,80,.35)}.toast-warning .toast-icon{color:#ffc850;background:#ffc85026}.game-confirm-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:100000;background:#0009;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s ease}.game-confirm-overlay.visible{opacity:1}.game-confirm-dialog{background:linear-gradient(145deg,#19140ffa,#231c14fa);border:1px solid rgba(180,138,56,.4);border-radius:12px;padding:24px 28px;max-width:360px;width:90vw;box-shadow:0 0 40px #0009,0 0 60px #b48a3814;transform:scale(.95);transition:transform .2s ease}.game-confirm-overlay.visible .game-confirm-dialog{transform:scale(1)}.confirm-msg{font-family:var(--font-ancient-body);font-size:.95em;color:#ddd;line-height:1.5;margin-bottom:20px;text-align:center}.confirm-actions{display:flex;gap:10px;justify-content:center}.confirm-btn{padding:8px 22px;border-radius:8px;font-family:var(--font-ancient-body);font-size:.85em;cursor:pointer;transition:all .2s ease;border:1px solid rgba(255,255,255,.1)}.confirm-cancel{background:#ffffff0d;color:#999}.confirm-cancel:hover{background:#ffffff1a;color:#ccc}.confirm-ok{background:linear-gradient(135deg,#ff505033,#ff3c3c26);color:#ff8a8a;border-color:#ff505059}.confirm-ok:hover{background:linear-gradient(135deg,#ff505059,#ff3c3c40);box-shadow:0 0 15px #ff505026}
